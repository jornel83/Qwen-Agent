{"url": "f:\\py_projects\\Qwen-Agent-main\\examples\\resource\\guide.md", "raw": [{"content": "# Python Base64 Image Handling Tutorial: Decoding and Displaying Base64 Images\n\nIn this tutorial, you will learn how to decode a received base64 string into an image using Python, display it, and save it locally.\n\n## Prerequisites\n\nMake sure you have the following libraries installed in your Python environment:\nbase64: Standard Python library (no installation required)\nPillow: For image processing and display\nIf you haven't installed Pillow yet, you can install it using pip:\nRun\n\n## Step 1: Prepare the Base64 String\nSuppose you have received a base64-encoded image string (it may include a prefix like data:image/png;base64,).\n\n## Step 2: Decode Base64 and Save as an Image File\nWe will use the base64 library to decode the string and save it as an image file.\n\n```python\nimport base64\n\ndef save_base64_to_image(base64_str, filename):\n    # Remove prefix if present\n    if ',' in base64_str:\n        base64_str = base64_str.split(',')[1]\n    img_data = base64.b64decode(base64_str)\n    with open(filename, 'wb') as f:\n        f.write(img_data)\n\n# Example usage\nsave_base64_to_image(base64_str, 'output.png')\n```\n\n## Step 3: Open and Display the Image Using Pillow\n\n```python\nfrom PIL import Image\n\ndef open_and_show_image(filename):\n    image = Image.open(filename)\n    image.show()\n\n# Example usage\nopen_and_show_image('output.png')\n```\n\n## Step 4: Display Base64 Image Directly (Without Saving to File)\n\nSometimes you may want to display the image directly from the base64 string without saving it first.\n\n```python\nfrom PIL import Image\nfrom io import BytesIO\nimport base64\n\ndef show_base64_image(base64_str):\n    if ',' in base64_str:\n        base64_str = base64_str.split(',')[1]\n    img_data = base64.b64decode(base64_str)\n    image = Image.open(BytesIO(img_data))\n    image.show()\n\n# Example usage\nshow_base64_image(base64_str)\n```\n\n## Summary\nBy now, you have learned how to decode a base64 string into an image using Python, display it, and save it locally. \n", "metadata": {"source": "f:\\py_projects\\Qwen-Agent-main\\examples\\resource\\guide.md", "title": "guide.md", "chunk_id": 0}, "token": 484}], "title": "guide.md"}